---
id: wnjkt
name: Updating running service
file_version: 1.0.2
app_version: 0.8.7-1
file_blobs:
  deploy/docker-compose.yml: ddd70de4bd167ef9019a0c7ed97d4c74addc4b0e
  .github/workflows/image-publish.yml: ad10150e69ccfa49089022dea6a047b6724e202d
---

`watchtower`[<sup id="ZeT6oO">â†“</sup>](#f-ZeT6oO) updates running container image when a new version is pushed to the registry.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ deploy/docker-compose.yml
<!-- collapsed -->

```yaml
â¬œ 28         depends_on:
â¬œ 29           - "db"
â¬œ 30     
ðŸŸ© 31       watchtower:
â¬œ 32         image: containrrr/watchtower
â¬œ 33         restart: always
â¬œ 34         volumes:
```

<br/>

This is how docker images are published, so `watchtower`[<sup id="ZeT6oO">â†“</sup>](#f-ZeT6oO) can pick them up and update the running container version.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ .github/workflows/image-publish.yml
```yaml
â¬œ 31             with:
â¬œ 32               images: ${{ secrets.DOCKER_USERNAME }}/train-butler
â¬œ 33     
ðŸŸ© 34           - name: Build and push Docker image
â¬œ 35             uses: docker/build-push-action@ad44023a93711e3deb337508980b4b5e9bcdc5dc
â¬œ 36             with:
â¬œ 37               context: .
```

<br/>

<!-- THIS IS AN AUTOGENERATED SECTION. DO NOT EDIT THIS SECTION DIRECTLY -->
### Swimm Note

<span id="f-ZeT6oO">watchtower</span>[^](#ZeT6oO) - "deploy/docker-compose.yml" L31
```yaml
  watchtower:
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBeW91ci10cmFpbi1idXRsZXIlM0ElM0FDb3J3aW5wcm8=/docs/wnjkt).